<!--
 * @Author       : Tianzw
 * @Date         : 2021-03-27 15:38:35
 * @LastEditors  : Please set LastEditors
 * @LastEditTime : 2021-03-27 16:30:00
 * @FilePath     : /my_github/LINUX/软硬链接.md
-->
[高质量博客](https://xzchsia.github.io/2020/03/05/linux-hard-soft-link/)
# 1 linux 文件系统
&emsp;&emsp;按照 **节点**，给磁盘进行分块管理，每一个独立的物理存储空间，都作为一个节点存在。
每一个节点，都有一个节点编号，即索引节点。
&emsp;&emsp;文件，实际上是一个指向索引节点的指针。可以用多个文件(指针)，指向同一个索引节点。
只有当某个索引节点的所有文件(指针)都被删除后，对应的索引节点才会被释放。
&emsp;&emsp;硬链接，即指向某个索引节点的文件(指针)。
&emsp;&emsp;符号链接(软链接)：本质是一个 **文本文件**，这个文本文件包含了目标文件的位置信息。
# 2 特性
1. 硬链接的限制
+ 不允许给目录创建硬链接
+ 只有在同一文件系统间的文件才能创建链接，且只有超级用户才有创建硬链接的权限。
2. 软链接没有限制
+ 可以跨文件、机器、网络进行链接
+ 原文件移动后，对应的软链接死掉。


# 3 [硬链接和软链接](https://www.huaweicloud.com/articles/f80b1ccef279142d42063561a7583bd8.html)
1. 硬链接
通过**索引节点**进行链接。在 `linux` 文件系统中，保存在磁盘分区中的文件不管是什么类型都会分配一个编号，这个编号被成为索引节点 `(Inode Index)` 或者 `Inode`，它是文件或者目录在一个文件系统中的唯一标识，文件的实际数据放置在数据区域 (data block)，它存储着文件重要参数信息，也就是元数据 (metadata)，比如创建时间、修改时间、文件大小、属主、归属的用户组、读写权限、数据所在 block 号等。

```js
                   |
filename -> inode -> data blocks
          metadata |  user data
```
在 linux 系统中，多个文件名指向同一索引节点是正常且允许的。一般这种链接，被成为硬链接。
&emsp;&emsp;硬链接的作用之一是允许一个文件拥有多个有效路径名，这样用户就可以建立硬链接到重要文件，以**防止 "误删" 源**数据。文件系统的原理是，只要文件的索引节点还有一个以上的链接，只删除其中一个链接并不影响索引节点本身和其他链接(数据的实体并未删除)， 只有当最后一个链接被删除后，此时如果有新数据要存储到磁盘上，被删除的文件的数据块及目录的链接才会被释放，空间被新数据暂用覆盖。
&emsp;&emsp;硬链接只能在同一文件系统中的文件进行链接，不能对目录进行创建。
2. 软链接
软链接是一个普通文件，其数据块的内容是文本，是另一文件的路径名的指向。
